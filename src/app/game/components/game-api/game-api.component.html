<h1>game-api</h1>
<form *ngIf="model" name="form" (ngSubmit)="f.form.valid && onSubmit(f)" #f="ngForm">

  <div class="form-group">
    <label>Title:</label>
    <input type="text" class="form-control" name="title" [(ngModel)]="model.title" #title="ngModel"
      [class.is-invalid]="title.invalid && title.touched" minlength="3" maxlength="255" pattern="[a-zA-Z ]*" required>
    <div *ngIf="title.touched && title.invalid" class="text-danger">
      <div *ngIf="!!title.errors.required">Title is required</div>
      <div *ngIf="!!title.errors.minlength">Title is too short</div>
      <div *ngIf="!!title.errors.maxlength">Title is too lenght</div>
      <div *ngIf="!!title.errors.pattern">In title can you use only letter</div>
    </div>
  </div>

  <div class="form-group">
    <label>Price:</label>
    <input type="text" class="form-control" name="price" [(ngModel)]="model.price" #price="ngModel"
      [class.is-invalid]="price.invalid && price.touched" required>
    <div *ngIf="price.touched && price.invalid" class="text-danger">
      <div *ngIf="!!price.errors.required">Price is required</div>
    </div>
  </div>

  <p>Form status: {{ f.status }}</p>
  <p>Form value: {{ f.value | json }}</p>
  <p>Model: {{ model | json }}</p>

  <p>
    <button type="submit" class="btn btn-primary" [disabled]="!f.valid">
      <span *ngIf="!model.id">Add</span>
      <span *ngIf="model.id">Update</span>
    </button>
    <button class="btn btn-info" (click)="onReset(f)">Reset</button>
  </p>
</form>

<h2>Games</h2>
<table class="games">
  <tr *ngFor="let game of games$  | async">
    <td>{{ game.id }}-{{game.title}}-{{game.price}}</td>
    <td><button class="btn btn-sm btn-success" (click)="onClickUpdate(game.id)">Update</button></td>
    <td><button class="btn btn-sm btn-danger" (click)="onDelete(game.id)">Delete</button></td>
  </tr>
</table>