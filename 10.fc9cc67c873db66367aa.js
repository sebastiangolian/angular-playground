(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{WuFp:function(t,e,o){"use strict";o.r(e),o.d(e,"PostModule",function(){return R});var n=o("ofXK"),s=o("tyNb"),i=o("HDdC"),c=o("quSY"),r=o("lJxs"),d=o("fXoL"),b=o("Fc3L"),a=o("OJug"),l=o("tk/3");let u=(()=>{class t extends a.a{constructor(t){super(t),this.http=t,this.url+="/post"}}return t.\u0275fac=function(e){return new(e||t)(d.Ub(l.b))},t.\u0275prov=d.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class p{constructor(t,e){this.id=Math.random().toString(36).substring(7),this.title=t,this.body=e}}var f=o("3Pt+");function m(t,e){1&t&&(d.Qb(0,"div"),d.sc(1,"Title is required"),d.Pb())}function h(t,e){1&t&&(d.Qb(0,"div"),d.sc(1,"Title must be at least 3 characters long"),d.Pb())}function g(t,e){1&t&&(d.Qb(0,"div"),d.sc(1,"Title cannot be longer than 35 character"),d.Pb())}function v(t,e){1&t&&(d.Qb(0,"div"),d.sc(1,"You have used characters that are not allowed"),d.Pb())}function P(t,e){if(1&t&&(d.Qb(0,"div",13),d.qc(1,m,2,0,"div",14),d.qc(2,h,2,0,"div",14),d.qc(3,g,2,0,"div",14),d.qc(4,v,2,0,"div",14),d.Pb()),2&t){d.ac();const t=d.jc(6);d.zb(1),d.fc("ngIf",!!t.errors.required),d.zb(1),d.fc("ngIf",!!t.errors.minlength),d.zb(1),d.fc("ngIf",!!t.errors.maxlength),d.zb(1),d.fc("ngIf",!!t.errors.pattern)}}function Q(t,e){1&t&&(d.Qb(0,"div"),d.sc(1,"Body is required"),d.Pb())}function I(t,e){1&t&&(d.Qb(0,"div"),d.sc(1,"Body must be at least 3 characters long"),d.Pb())}function y(t,e){1&t&&(d.Qb(0,"div"),d.sc(1,"Body cannot be longer than 35 character"),d.Pb())}function S(t,e){1&t&&(d.Qb(0,"div"),d.sc(1,"You have used characters that are not allowed"),d.Pb())}function w(t,e){if(1&t&&(d.Qb(0,"div",13),d.qc(1,Q,2,0,"div",14),d.qc(2,I,2,0,"div",14),d.qc(3,y,2,0,"div",14),d.qc(4,S,2,0,"div",14),d.Pb()),2&t){d.ac();const t=d.jc(12);d.zb(1),d.fc("ngIf",!!t.errors.required),d.zb(1),d.fc("ngIf",!!t.errors.minlength),d.zb(1),d.fc("ngIf",!!t.errors.maxlength),d.zb(1),d.fc("ngIf",!!t.errors.pattern)}}function z(t,e){if(1&t){const t=d.Rb();d.Qb(0,"form",1,2),d.Xb("ngSubmit",function(){d.lc(t);const e=d.jc(1),o=d.ac();return e.form.valid&&o.onSubmit(e)}),d.Qb(2,"div",3),d.Qb(3,"label"),d.sc(4,"Title:"),d.Pb(),d.Qb(5,"input",4,5),d.Xb("ngModelChange",function(e){return d.lc(t),d.ac().model.title=e}),d.Pb(),d.qc(7,P,5,4,"div",6),d.Pb(),d.Qb(8,"div",3),d.Qb(9,"label"),d.sc(10,"Body:"),d.Pb(),d.Qb(11,"input",7,8),d.Xb("ngModelChange",function(e){return d.lc(t),d.ac().model.body=e}),d.Pb(),d.qc(13,w,5,4,"div",6),d.Pb(),d.Qb(14,"p",9),d.Qb(15,"button",10),d.sc(16),d.Pb(),d.Qb(17,"button",11),d.sc(18,"Clear"),d.Pb(),d.Qb(19,"button",12),d.sc(20,"Back"),d.Pb(),d.Pb(),d.Pb()}if(2&t){const t=d.jc(1),e=d.jc(6),o=d.jc(12),n=d.ac();d.zb(5),d.Cb("is-invalid",e.invalid&&e.touched),d.fc("ngModel",n.model.title),d.zb(2),d.fc("ngIf",e.errors&&e.touched&&e.invalid),d.zb(4),d.Cb("is-invalid",o.invalid&&o.touched),d.fc("ngModel",n.model.body),d.zb(2),d.fc("ngIf",o.errors&&o.touched&&o.invalid),d.zb(2),d.fc("disabled",!t.valid),d.zb(1),d.tc(n.action)}}let E=(()=>{class t{constructor(){this.model=null,this.action="Add",this.postSubmited=new d.n}onSubmit(t){this.postSubmited.emit(this.model)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["post-form"]],inputs:{model:"model",action:"action"},outputs:{postSubmited:"postSubmited"},decls:1,vars:1,consts:[["name","form","autocomplete","off",3,"ngSubmit",4,"ngIf"],["name","form","autocomplete","off",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["type","text","name","title","size","35","minlength","3","maxlength","35","pattern",'[0-9a-zA-Z\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\\s."-]*',"required","",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],["class","text-danger",4,"ngIf"],["type","text","name","body","size","35","minlength","3","maxlength","255","pattern",'[0-9a-zA-Z\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\\s."-]*',"required","",1,"form-control",3,"ngModel","ngModelChange"],["body","ngModel"],[1,"btn-group"],["type","submit",1,"btn","btn-dark",3,"disabled"],["type","reset",1,"btn","btn-info"],["routerLink","post",1,"btn","btn-dark"],[1,"text-danger"],[4,"ngIf"]],template:function(t,e){1&t&&d.qc(0,z,21,10,"form",0),2&t&&d.fc("ngIf",e.model)},directives:[n.k,f.r,f.j,f.k,f.b,f.f,f.e,f.o,f.p,f.i,f.l,s.c],styles:[""],changeDetection:0}),t})(),q=(()=>{class t{constructor(){this.model=null,this.postCreated=new d.n}ngOnInit(){this.model=new p("Lorem Ipsum","Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus iure officia doloremque vero est")}onFormSubmit(t){this.postCreated.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["post-create"]],inputs:{model:"model"},outputs:{postCreated:"postCreated"},decls:6,vars:1,consts:[[1,"card","mb-3"],[1,"card-header"],[1,"card-body"],[1,"card-text"],[3,"model","postSubmited"]],template:function(t,e){1&t&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.sc(2,"Add post"),d.Pb(),d.Qb(3,"div",2),d.Qb(4,"p",3),d.Qb(5,"post-form",4),d.Xb("postSubmited",function(t){return e.onFormSubmit(t)}),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.zb(5),d.fc("model",e.model))},directives:[E],styles:[""],changeDetection:0}),t})(),C=(()=>{class t{constructor(){this.model=null,this.postUpdated=new d.n}ngOnInit(){}onFormSubmit(t){this.postUpdated.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["post-update"]],inputs:{model:"model"},outputs:{postUpdated:"postUpdated"},decls:6,vars:2,consts:[[1,"card","mb-3"],[1,"card-header"],[1,"card-body"],[1,"card-text"],[3,"model","action","postSubmited"]],template:function(t,e){1&t&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.sc(2,"Update post"),d.Pb(),d.Qb(3,"div",2),d.Qb(4,"p",3),d.Qb(5,"post-form",4),d.Xb("postSubmited",function(t){return e.onFormSubmit(t)}),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.zb(5),d.fc("model",e.model)("action","Save"))},directives:[E],styles:[""],changeDetection:0}),t})();function D(t,e){if(1&t){const t=d.Rb();d.Qb(0,"div",1),d.Qb(1,"div",2),d.Qb(2,"h3",3),d.sc(3),d.Qb(4,"span",4),d.sc(5),d.Pb(),d.Pb(),d.Qb(6,"p",5),d.sc(7),d.Pb(),d.Qb(8,"div",6),d.Qb(9,"button",7),d.Xb("click",function(){d.lc(t);const e=d.ac();return e.onEdit(e.model)}),d.sc(10,"Edit"),d.Pb(),d.Qb(11,"button",8),d.Xb("click",function(){d.lc(t);const e=d.ac();return e.onDelete(e.model)}),d.sc(12,"Delete"),d.Pb(),d.Pb(),d.Pb(),d.Pb()}if(2&t){const t=d.ac();d.zb(3),d.uc(" ",t.model.title," "),d.zb(2),d.uc("(",t.model.id,")"),d.zb(2),d.tc(t.model.body)}}let k=(()=>{class t{constructor(){this.model=null,this.postEdited=new d.n,this.postDeleted=new d.n}ngOnInit(){}onEdit(t){this.postEdited.emit(t)}onDelete(t){this.postDeleted.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["post-item"]],inputs:{model:"model"},outputs:{postEdited:"postEdited",postDeleted:"postDeleted"},decls:1,vars:1,consts:[["class","card mb-3",4,"ngIf"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],[1,"text-muted","float-right"],[1,"card-text"],["role","group","aria-label","Basic example",1,"btn-group"],[1,"btn","btn-dark",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&d.qc(0,D,13,3,"div",0),2&t&&d.fc("ngIf",e.model)},directives:[n.k],styles:[""],changeDetection:0}),t})();function x(t,e){if(1&t){const t=d.Rb();d.Qb(0,"div",3),d.Qb(1,"post-item",4),d.Xb("postDeleted",function(e){return d.lc(t),d.ac(2).onDelete(e)})("postEdited",function(e){return d.lc(t),d.ac(2).onEdit(e)}),d.Pb(),d.Pb()}if(2&t){const t=e.$implicit;d.zb(1),d.fc("model",t)}}function X(t,e){if(1&t&&(d.Qb(0,"div",1),d.qc(1,x,2,1,"div",2),d.Pb()),2&t){const t=d.ac();d.zb(1),d.fc("ngForOf",t.posts)}}let j=(()=>{class t{constructor(){this.posts=[],this.postEdited=new d.n,this.postDeleted=new d.n}ngOnInit(){}onEdit(t){this.postEdited.emit(t)}onDelete(t){this.postDeleted.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["post-list"]],inputs:{posts:"posts"},outputs:{postEdited:"postEdited",postDeleted:"postDeleted"},decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],["class","col-12 col-sm-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4"],[3,"model","postDeleted","postEdited"]],template:function(t,e){1&t&&d.qc(0,X,2,1,"div",0),2&t&&d.fc("ngIf",e.posts)},directives:[n.k,n.j,k],styles:[""],changeDetection:0}),t})();function M(t,e){if(1&t){const t=d.Rb();d.Qb(0,"post-create",4),d.Xb("postCreated",function(e){return d.lc(t),d.ac().onCreate(e)}),d.Pb()}}function O(t,e){if(1&t){const t=d.Rb();d.Qb(0,"post-update",5),d.Xb("postUpdated",function(e){return d.lc(t),d.ac().onUpdate(e)}),d.Pb()}if(2&t){const t=d.ac();d.fc("model",t.updatedPost)}}function U(t,e){if(1&t){const t=d.Rb();d.Ob(0),d.Qb(1,"h2",6),d.sc(2),d.Qb(3,"button",7),d.Xb("click",function(){return d.lc(t),d.ac().onOpenCreate()}),d.sc(4,"Add"),d.Pb(),d.Pb(),d.Qb(5,"post-list",8),d.Xb("postEdited",function(e){return d.lc(t),d.ac().onEdit(e)})("postDeleted",function(e){return d.lc(t),d.ac().onDelete(e)}),d.Pb(),d.Nb()}if(2&t){const t=e.ngIf;d.zb(2),d.uc("Posts list (",t.length,") "),d.zb(3),d.fc("posts",t)}}function F(t,e){1&t&&d.sc(0," Loading posts... ")}const B=[{path:"",component:(()=>{class t{constructor(t,e){this.headerService=t,this.postService=e,this.posts$=new i.a,this.isCreatedPost=!1,this.updatedPost=null,this.subscription=new c.a,this.headerService.set("Posts")}ngOnInit(){this.getPosts()}onOpenCreate(){this.isCreatedPost=!0}onCreate(t){t&&this.subscription.add(this.createSubscription(t))}onUpdate(t){t&&this.subscription.add(this.updateSubscription(t))}onEdit(t){this.updatedPost=t}onDelete(t){this.subscription.add(this.deleteSubscription(t))}createSubscription(t){return this.postService.post(t).subscribe(()=>{this.getPosts(),this.isCreatedPost=!1})}updateSubscription(t){return this.postService.update(t.id,t).subscribe(()=>{this.getPosts(),this.isCreatedPost=!1,this.updatedPost=null})}deleteSubscription(t){return this.postService.delete(t.id).subscribe(()=>{this.getPosts(),this.isCreatedPost=!1})}getPosts(){this.posts$=this.postService.get().pipe(Object(r.a)(t=>t.items))}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(b.a),d.Kb(u))},t.\u0275cmp=d.Eb({type:t,selectors:[["ng-component"]],decls:6,vars:6,consts:[[3,"postCreated",4,"ngIf"],[3,"model","postUpdated",4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],[3,"postCreated"],[3,"model","postUpdated"],[1,"mb-3"],[1,"btn","btn-dark","float-right",3,"click"],[3,"posts","postEdited","postDeleted"]],template:function(t,e){if(1&t&&(d.qc(0,M,1,0,"post-create",0),d.qc(1,O,1,1,"post-update",1),d.qc(2,U,6,2,"ng-container",2),d.bc(3,"async"),d.qc(4,F,1,0,"ng-template",null,3,d.rc)),2&t){const t=d.jc(5);d.fc("ngIf",e.isCreatedPost),d.zb(1),d.fc("ngIf",e.updatedPost),d.zb(1),d.fc("ngIf",d.cc(3,4,e.posts$))("ngIfElse",t)}},directives:[n.k,q,C,j],pipes:[n.b],styles:[""]}),t})()}];let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({imports:[[s.f.forChild(B)],s.f]}),t})(),R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({imports:[[n.c,L,f.d]]}),t})()}}]);