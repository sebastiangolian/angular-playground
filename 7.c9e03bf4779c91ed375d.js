(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7UCR":function(e,t,i){"use strict";i.r(t),i.d(t,"UserModule",function(){return Oe});var s=i("ofXK"),r=i("tyNb"),n=i("quSY"),a=i("XNiG");class o{constructor(){this.id="",this.email="",this.zipCode="",this.created="",this.active=void 0,this.documentLink="",this.idRole=""}}var c=i("fXoL"),l=i("K3ix"),h=i("3Pt+");function u(e,t){1&e&&(c.Qb(0,"div"),c.sc(1,"Email is required"),c.Pb())}function d(e,t){1&e&&(c.Qb(0,"div"),c.sc(1,"Email is invalid"),c.Pb())}function b(e,t){if(1&e&&(c.Qb(0,"div",20),c.qc(1,u,2,0,"div",21),c.qc(2,d,2,0,"div",21),c.Pb()),2&e){c.ac();const e=c.jc(7);c.zb(1),c.fc("ngIf",!!e.errors.required),c.zb(1),c.fc("ngIf",!!e.errors.email)}}function p(e,t){1&e&&(c.Qb(0,"div"),c.sc(1,"Zipcode is required"),c.Pb())}function f(e,t){1&e&&(c.Qb(0,"div"),c.sc(1,"Zipcode is too short"),c.Pb())}function m(e,t){1&e&&(c.Qb(0,"div"),c.sc(1,"Zipcode is too long"),c.Pb())}function g(e,t){1&e&&(c.Qb(0,"div"),c.sc(1,"Zipcode must be in 00-000"),c.Pb())}function k(e,t){if(1&e&&(c.Qb(0,"div",20),c.qc(1,p,2,0,"div",21),c.qc(2,f,2,0,"div",21),c.qc(3,m,2,0,"div",21),c.qc(4,g,2,0,"div",21),c.Pb()),2&e){c.ac();const e=c.jc(13);c.zb(1),c.fc("ngIf",!!e.errors.required),c.zb(1),c.fc("ngIf",!!e.errors.minlength),c.zb(1),c.fc("ngIf",!!e.errors.maxlength),c.zb(1),c.fc("ngIf",!!e.errors.pattern)}}function v(e,t){if(1&e){const e=c.Rb();c.Qb(0,"form",4,5),c.Qb(2,"div",6),c.Qb(3,"div",7),c.Qb(4,"label"),c.sc(5,"Email:"),c.Pb(),c.Qb(6,"input",8,9),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.email=t}),c.Pb(),c.qc(8,b,3,2,"div",10),c.Pb(),c.Qb(9,"div",7),c.Qb(10,"label"),c.sc(11,"Zipcode:"),c.Pb(),c.Qb(12,"input",11,12),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.zipCode=t}),c.Pb(),c.qc(14,k,5,4,"div",10),c.Pb(),c.Qb(15,"div",13),c.Qb(16,"input",14,15),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.active=t}),c.Pb(),c.Qb(18,"label",16),c.sc(19," Is active "),c.Pb(),c.Pb(),c.Pb(),c.Qb(20,"div",17),c.Qb(21,"button",18),c.Xb("click",function(){return c.lc(e),c.ac().onCreate()}),c.sc(22),c.Pb(),c.Qb(23,"button",19),c.Xb("click",function(){return c.lc(e),c.ac().onCancel()}),c.sc(24,"Cancel"),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=c.jc(1),t=c.jc(7),i=c.jc(13),s=c.ac();c.zb(6),c.Cb("is-invalid",t.invalid&&t.touched),c.fc("ngModel",s.model.email),c.zb(2),c.fc("ngIf",t.touched&&t.invalid&&t.errors),c.zb(4),c.Cb("is-invalid",i.invalid&&i.touched),c.fc("ngModel",s.model.zipCode),c.zb(2),c.fc("ngIf",i.touched&&i.invalid&&i.errors),c.zb(2),c.fc("ngModel",s.model.active),c.zb(5),c.fc("disabled",!e.valid||!e.value.email),c.zb(1),c.tc(s.title)}}let S=(()=>{class e{constructor(e){this.bsModalRef=e,this.title="Update user",this.model=new o,this.subject=new a.a}ngOnInit(){null===this.model&&(this.title="Add user",this.model=new o,this.model.email="test@gmail.com",this.model.active=!0,this.model.zipCode="00-000")}onCreate(){this.bsModalRef.hide(),this.subject.next(this.model),this.subject.complete()}onCancel(){this.bsModalRef.hide(),this.subject.complete()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(l.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-user-modal"]],decls:5,vars:2,consts:[[1,"modal-body","clearfix"],[1,"modal-header"],[1,"modal-title"],["name","form","autocomplete","off",4,"ngIf"],["name","form","autocomplete","off"],["f","ngForm"],[1,"modal-text","p-3"],[1,"form-group"],["type","text","name","email","email","","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-danger",4,"ngIf"],["type","text","name","zipcode","minlength","6","maxlength","6","pattern","[0-9]{2}[\\-]?[0-9]{3}","required","",1,"form-control",3,"ngModel","ngModelChange"],["zipcode","ngModel"],[1,"form-check","form-group"],["type","checkbox","name","active",1,"form-check-input",3,"ngModel","ngModelChange"],["active","ngModel"],[1,"form-check-label"],[1,"modal-footer"],[1,"btn","btn-dark",3,"disabled","click"],[1,"btn","btn-dark",3,"click"],[1,"text-danger"],[4,"ngIf"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"h4",2),c.sc(3),c.Pb(),c.Pb(),c.qc(4,v,25,11,"form",3),c.Pb()),2&e&&(c.zb(3),c.tc(t.title),c.zb(1),c.fc("ngIf",t.model))},directives:[s.k,h.r,h.j,h.k,h.b,h.c,h.p,h.i,h.l,h.f,h.e,h.o,h.a],styles:[""],changeDetection:0}),e})(),_=(()=>{class e{constructor(){this.items=[],this.filterError=!1,this.total=0,this.page=1,this.limitEnabled=!0,this.sortEnabled=!0,this.filterEnabled=!0,this.limit=10,this.limitValues=[5,10,20],this.sortBy="",this.order="asc",this.filters={},this.filterMinLength=3,this.filterOneSign=[]}onRefresh(){}ngOnInit(){this.onRefresh()}onPrev(){this.page-=1,this.onRefresh()}onNext(){this.page+=1,this.onRefresh()}onSort(e){if(""!==e&&this.sortEnabled&&this.total>0){let t="asc";"asc"===this.order&&(t="desc"),this.sortBy=e,this.order=t,this.onRefresh()}}getSortClass(e){if(this.sortBy===e){if("asc"===this.order)return"&darr;";if("desc"===this.order)return"&uarr;"}return"&darr;"}getTotalPage(){return 0===this.total?1:Math.ceil(this.total/this.limit)}onChangeLimit(e){this.limit=Number(e),this.page=1,this.onRefresh()}onFilter(e){const t={};this.filterError=!1;for(const[i,s]of Object.entries(e.value)){if("string"==typeof s){const e=s.toString().length<this.filterMinLength,t=!this.filterOneSign.includes(i.toString()),r=""!==s;e&&t&&r&&(this.filterError=!0)}e.value[i]&&(t[i]=s)}this.filterError||(this.filters=t,Object.keys(t).length>0?this.onRefresh():this.onFilterReset())}onFilterReset(){this.filters={},this.filterError=!1,this.onRefresh()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})(),x=(()=>{class e extends _{constructor(){super(...arguments),this.limitEnabled=!1}onSort(e){0!==Object.keys(this.filters).length&&super.onSort(e)}onFilterReset(){this.filters={},this.items=[]}}return e.\u0275fac=function(t){return P(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["ng-component"]],features:[c.wb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})();const P=c.Sb(x);class y{constructor(){this.id="",this.name=""}}var w=i("OJug"),C=i("tk/3");let M=(()=>{class e extends w.a{constructor(e){super(e),this.http=e,this.url+="/role"}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(C.b))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Q=(()=>{class e{constructor(e){this.bsModalRef=e,this.content="",this.subject=new a.a}ngOnInit(){}action(e){this.bsModalRef.hide(),this.subject.next(e),this.subject.complete()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(l.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-modal-confirm"]],decls:10,vars:1,consts:[[1,"modal-body","clearfix"],[1,"modal-icon"],[1,"fa","fa-question-circle"],[1,"modal-text"],[3,"innerHtml"],[1,"modal-footer"],[1,"btn","btn-dark",3,"click"],[1,"btn","btn-dark","right",3,"click"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Lb(2,"i",2),c.Pb(),c.Qb(3,"div",3),c.Lb(4,"div",4),c.Pb(),c.Pb(),c.Qb(5,"div",5),c.Qb(6,"button",6),c.Xb("click",function(){return t.action(!1)}),c.sc(7,"Back"),c.Pb(),c.Qb(8,"button",7),c.Xb("click",function(){return t.action(!0)}),c.sc(9,"Yes"),c.Pb(),c.Pb()),2&e&&(c.zb(4),c.fc("innerHtml",t.content,c.mc))},styles:[""],changeDetection:0}),e})(),E=(()=>{class e{constructor(e){this.modalService=e}confirm(e){const t=new a.a,i=this.modalService.show(Q,{initialState:{content:e},class:"modal-sm"});return i.content&&(i.content.subject=t),t.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(l.b))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=i("bu8T");function V(e,t){1&e&&(c.Qb(0,"div",17),c.sc(1,"Please enter at least 3 characters"),c.Pb())}function R(e,t){if(1&e&&c.Lb(0,"span",18),2&e){const e=c.ac();c.fc("innerHTML",e.getSortClass("id"),c.mc)}}function z(e,t){if(1&e&&c.Lb(0,"span",18),2&e){const e=c.ac();c.fc("innerHTML",e.getSortClass("name"),c.mc)}}function T(e,t){if(1&e&&(c.Qb(0,"option",22),c.sc(1),c.Pb()),2&e){const e=t.$implicit,i=c.ac(2);c.fc("ngValue",e)("selected",e===i.limit),c.zb(1),c.uc(" ",e," ")}}function N(e,t){if(1&e){const e=c.Rb();c.Qb(0,"select",19,20),c.Xb("change",function(){c.lc(e);const t=c.jc(1);return c.ac().onChangeLimit(t.value)}),c.qc(2,T,2,3,"option",21),c.Pb()}if(2&e){const e=c.ac();c.zb(2),c.fc("ngForOf",e.limitValues)}}function O(e,t){if(1&e){const e=c.Rb();c.Qb(0,"tr"),c.Qb(1,"th"),c.Qb(2,"input",23,24),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.id=t}),c.Pb(),c.Pb(),c.Qb(4,"th"),c.Qb(5,"input",25,26),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.name=t}),c.Pb(),c.Pb(),c.Qb(7,"th",27),c.Lb(8,"input",28),c.Qb(9,"input",29),c.Xb("click",function(t){c.lc(e);const i=c.ac();return c.jc(7).reset(),t.preventDefault(),i.onFilterReset()}),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=c.ac();c.zb(2),c.fc("ngModel",e.model.id),c.zb(3),c.fc("ngModel",e.model.name)}}function j(e,t){if(1&e){const e=c.Rb();c.Qb(0,"tr"),c.Qb(1,"td"),c.sc(2),c.Pb(),c.Qb(3,"td"),c.sc(4),c.Pb(),c.Qb(5,"td"),c.Qb(6,"a",31),c.Xb("click",function(){c.lc(e);const i=t.$implicit;return c.ac(2).onSelectConfirm(i)}),c.Lb(7,"icon-b",32),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit;c.zb(2),c.tc(e.id),c.zb(2),c.tc(e.name)}}function H(e,t){if(1&e&&(c.Qb(0,"tbody"),c.qc(1,j,8,2,"tr",30),c.Pb()),2&e){const e=c.ac();c.zb(1),c.fc("ngForOf",e.items)}}function L(e,t){1&e&&(c.Qb(0,"caption"),c.sc(1," No records "),c.Pb())}function A(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",33),c.Qb(1,"div",34),c.sc(2),c.Pb(),c.Qb(3,"div",35),c.sc(4),c.Pb(),c.Qb(5,"div",34),c.Qb(6,"button",36),c.Xb("click",function(){return c.lc(e),c.ac().onNext()}),c.sc(7,">"),c.Pb(),c.Qb(8,"button",37),c.Xb("click",function(){return c.lc(e),c.ac().onPrev()}),c.sc(9,"<"),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=c.ac();c.zb(2),c.uc("Total: ",e.total,""),c.zb(2),c.vc("Page ",e.page," z ",e.getTotalPage(),""),c.zb(2),c.fc("disabled",e.total<=e.limit*e.page),c.zb(2),c.fc("disabled",1===e.page)}}let $=(()=>{class e extends x{constructor(e,t,i){super(),this.roleService=e,this.bsModalRef=t,this.modalConfirmService=i,this.model=new y,this.items=[],this.subject=new a.a,this.subscription=new n.a,this.onRefresh()}onRefresh(){this.subscription.add(this.getRoles())}onSelectConfirm(e){this.subscription.add(this.modalConfirmService.confirm("Are you sure you want to assign a role?").subscribe(t=>{t&&this.onSelect(e)}))}onSelect(e){this.bsModalRef.hide(),this.subject.next(e),this.subject.complete()}onCancel(){this.bsModalRef.hide(),this.subject.complete()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getRoles(){return this.roleService.get(this.limit,this.page,this.sortBy,this.order,this.filters).subscribe(e=>{this.items=e.items,this.total=e.total})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(M),c.Kb(l.a),c.Kb(E))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-role-modal-search"]],features:[c.wb],decls:28,vars:8,consts:[[1,"modal-body","clearfix"],[1,"modal-header","border-0"],[1,"modal-title"],[1,"modal-text"],["class","text-danger",4,"ngIf"],["name","form","autocomplete","off",3,"ngSubmit"],["f","ngForm"],[1,"datatable","table-responsive"],[1,"table","table-striped","table-sm"],["scope","col"],[3,"click"],[3,"innerHTML",4,"ngIf"],["class","form-control form-control-sm float-right","name","limit","id","limit",3,"change",4,"ngIf"],[4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-dark",3,"click"],[1,"text-danger"],[3,"innerHTML"],["name","limit","id","limit",1,"form-control","form-control-sm","float-right",3,"change"],["limitSelect",""],[3,"ngValue","selected",4,"ngFor","ngForOf"],[3,"ngValue","selected"],["type","text","name","id",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["id","ngModel"],["type","text","name","name",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"btn-group","border-0","float-right"],["type","image","src","assets/icons/search.svg","width","20","height","20","title","Search",1,"mt-1","no-outline"],["type","image","src","assets/icons/x.svg","width","32","height","32","title","Clear filter",1,"no-outline",3,"click"],[4,"ngFor","ngForOf"],[1,"mr-1",3,"click"],["name","plus","title","Select"],[1,"row","justify-content-center"],[1,"col-4"],[1,"col-4","text-center"],[1,"btn","btn-dark","btn-sm","float-right","ml-1",3,"disabled","click"],[1,"btn","btn-dark","btn-sm","float-right",3,"disabled","click"]],template:function(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"h4",2),c.sc(3,"Select role"),c.Pb(),c.Pb(),c.Qb(4,"div",3),c.qc(5,V,2,0,"div",4),c.Qb(6,"form",5,6),c.Xb("ngSubmit",function(){c.lc(e);const i=c.jc(7);return i.form.valid&&t.onFilter(i)}),c.Qb(8,"div",7),c.Qb(9,"table",8),c.Qb(10,"thead"),c.Qb(11,"th",9),c.Qb(12,"a",10),c.Xb("click",function(){return t.onSort("id")}),c.sc(13,"Id "),c.qc(14,R,1,1,"span",11),c.Pb(),c.Pb(),c.Qb(15,"th",9),c.Qb(16,"a",10),c.Xb("click",function(){return t.onSort("name")}),c.sc(17,"Name "),c.qc(18,z,1,1,"span",11),c.Pb(),c.Pb(),c.Qb(19,"th",9),c.qc(20,N,3,1,"select",12),c.Pb(),c.Pb(),c.qc(21,O,10,2,"tr",13),c.qc(22,H,2,1,"tbody",13),c.qc(23,L,2,0,"caption",13),c.Pb(),c.Pb(),c.Pb(),c.qc(24,A,10,5,"div",14),c.Pb(),c.Pb(),c.Qb(25,"div",15),c.Qb(26,"button",16),c.Xb("click",function(){return t.onCancel()}),c.sc(27,"Cancel"),c.Pb(),c.Pb()}2&e&&(c.zb(5),c.fc("ngIf",t.filterError),c.zb(9),c.fc("ngIf","created"===t.sortBy),c.zb(4),c.fc("ngIf","name"===t.sortBy),c.zb(2),c.fc("ngIf",t.limitEnabled),c.zb(1),c.fc("ngIf",t.filterEnabled),c.zb(1),c.fc("ngIf",t.items),c.zb(1),c.fc("ngIf",!t.items),c.zb(1),c.fc("ngIf",t.items&&t.total>t.limit))},directives:[s.k,h.r,h.j,h.k,s.j,h.n,h.s,h.b,h.i,h.l,I.a],styles:[""]}),e})();var F=i("Kh+D"),D=i("Fc3L"),U=i("QLLi"),q=i("lJxs"),X=i("eIep"),B=i("Iab2");let K=(()=>{class e{get isFileSaverSupported(){try{return!!new Blob}catch(e){return!1}}genType(e){if(!e||-1===e.lastIndexOf("."))return"text/plain";const t=e.substr(e.lastIndexOf(".")+1);switch(t){case"txt":return"text/plain";case"xml":case"html":return`text/${t}`;case"json":return"octet/stream";default:return`application/${t}`}}save(e,t,i,s){if(!e)throw new Error("Data argument should be a blob instance");const r=new Blob([e],{type:i||e.type||this.genType(t)});Object(B.saveAs)(r,decodeURI(t||"download"),s)}saveText(e,t,i){const s=new Blob([e]);this.save(s,t,null,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(c.Gb)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Z=(()=>{class e extends w.a{constructor(e,t){super(e),this.http=e,this.fileSaverService=t,this.url+="/user"}downloadFile(e){return this.http.get(e.documentLink,{responseType:"blob"}).pipe(Object(q.a)(t=>{const i=new Blob([t],{type:"application/pdf"});this.fileSaverService.save(i,`${e.id}.pdf`)}))}getFile(e){return this.http.get(e.documentLink,{responseType:"blob"})}getFileByUserId(e){return this.getById(e).pipe(Object(q.a)(e=>e.item),Object(X.a)(e=>this.getFile(e)))}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(C.b),c.Ub(K))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var G=i("mrSG");const W=new c.r("config"),J=new c.r("NEW_CONFIG"),Y=new c.r("INITIAL_CONFIG"),ee={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},te=["Hh:m0:s0","Hh:m0","m0:s0"],ie=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let se=(()=>{class e{constructor(e){this._config=e,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(e,t,i,s)=>{const r=e.split(i),n=r.length>1?`${i}${r[1]}`:"";let a=r[0];const o=this.separatorLimit.replace(/\s/g,"");o&&+o&&(a="-"===a[0]?`-${a.slice(1,a.length).slice(0,o.length)}`:a.slice(0,o.length));const c=/(\d+)(\d{3})/;for(;t&&c.test(a);)a=a.replace(c,"$1"+t+"$2");return void 0===s?a+n:0===s?a:a+n.substr(0,s+1)},this.percentage=e=>Number(e)>=0&&Number(e)<=100,this.getPrecision=e=>{const t=e.split(".");return t.length>1?Number(t[t.length-1]):1/0},this.checkAndRemoveSuffix=e=>{var t,i,s;for(let r=(null===(t=this.suffix)||void 0===t?void 0:t.length)-1;r>=0;r--){const t=this.suffix.substr(r,null===(i=this.suffix)||void 0===i?void 0:i.length);if(e.includes(t)&&(r-1<0||!e.includes(this.suffix.substr(r-1,null===(s=this.suffix)||void 0===s?void 0:s.length))))return e.replace(t,"")}return e},this.checkInputPrecision=(e,t,i)=>{if(t<1/0){const s=new RegExp(this._charToRegExpExpression(i)+`\\d{${t}}.*$`),r=e.match(s);r&&r[0].length-1>t&&(e=e.substring(0,e.length-(r[0].length-1-t))),0===t&&e.endsWith(i)&&(e=e.substring(0,e.length-1))}return e},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(e,t){const[i,s]=t;return this.customPattern=s,this.applyMask(e,i)}applyMask(e,t,i=0,s=!1,r=!1,n=(()=>{})){if(null==e||void 0===t)return"";let a=0,o="",c=!1,l=!1,h=1,u=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&(null==e?void 0:e.length)>0&&(e=this.checkAndRemoveSuffix(e));const d=e.toString().split("");"IP"===t&&(this.ipError=!!(d.filter(e=>"."===e).length<3&&d.length<7),t="099.099.099.099");const b=[];for(let k=0;k<e.length;k++)e[k].match("\\d")&&b.push(e[k]);if("CPF_CNPJ"===t&&(this.cpfCnpjError=!(11===b.length||14===b.length),t=b.length>11?"00.000.000/0000-00":"000.000.000-00"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){e=this._stripToDecimal(e);const i=this.getPrecision(t);e=this.checkInputPrecision(e,i,this.decimalMarker)}if(e.indexOf(".")>0&&!this.percentage(e.substring(0,e.indexOf(".")))){const t=e.substring(0,e.indexOf(".")-1);e=`${t}${e.substring(e.indexOf("."),e.length)}`}o=this.percentage(e)?e:e.substring(0,e.length-1)}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044f\u0410-\u042f]")||e.match("[\u0401\u0451\u0410-\u044f]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e)),e=e.length>1&&"0"===e[0]&&e[1]!==this.decimalMarker?e.slice(1,e.length):e;const s=this._charToRegExpExpression(this.thousandSeparator),r=this._charToRegExpExpression(this.decimalMarker),n='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(s,"").replace(r,""),a=new RegExp("["+n+"]");e.match(a)&&(e=e.substring(0,e.length-1));const c=this.getPrecision(t),u=(e=this.checkInputPrecision(e,c,this.decimalMarker)).replace(new RegExp(s,"g"),"");o=this._formatWithSeparators(u,this.thousandSeparator,this.decimalMarker,c);const d=o.indexOf(",")-e.indexOf(","),b=o.length-e.length;if(b>0&&","!==o[i]){l=!0;let e=0;do{this._shift.add(i+e),e++}while(e<b)}else 0!==d&&i>0&&!(o.indexOf(",")>=i&&i>3)||!(o.indexOf(".")>=i&&i>3)&&b<=0?(this._shift.clear(),l=!0,h=b,this._shift.add(i+=b)):this._shift.clear()}else for(let k=0,v=d[0];k<d.length&&a!==t.length;k++,v=d[k])if(this._checkSymbolMask(v,t[a])&&"?"===t[a+1])o+=v,a+=2;else if("*"===t[a+1]&&c&&this._checkSymbolMask(v,t[a+2]))o+=v,a+=3,c=!1;else if(this._checkSymbolMask(v,t[a])&&"*"===t[a+1])o+=v,c=!0;else if("?"===t[a+1]&&this._checkSymbolMask(v,t[a+2]))o+=v,a+=3;else if(this._checkSymbolMask(v,t[a])){if("H"===t[a]&&Number(v)>2){a+=1,this._shiftStep(t,a,d.length),k--,this.leadZeroDateTime&&(o+="0");continue}if("h"===t[a]&&"2"===o&&Number(v)>3){a+=1,k--;continue}if("m"===t[a]&&Number(v)>5){a+=1,this._shiftStep(t,a,d.length),k--,this.leadZeroDateTime&&(o+="0");continue}if("s"===t[a]&&Number(v)>5){a+=1,this._shiftStep(t,a,d.length),k--,this.leadZeroDateTime&&(o+="0");continue}const i=31;if("d"===t[a]&&(Number(v)>3&&this.leadZeroDateTime||Number(e.slice(a,a+2))>i||"/"===e[a+1])){a+=1,this._shiftStep(t,a,d.length),k--,this.leadZeroDateTime&&(o+="0");continue}if("M"===t[a]){const s=12,r=0===a&&(Number(v)>2||Number(e.slice(a,a+2))>s||"/"===e[a+1]),n=e.slice(a-3,a-1).includes("/")&&("/"===e[a-2]&&Number(e.slice(a-1,a+1))>s&&"/"!==e[a]||"/"===e[a]||"/"===e[a-3]&&Number(e.slice(a-2,a))>s&&"/"!==e[a-1]||"/"===e[a-1]),c=Number(e.slice(a-3,a-1))<=i&&!e.slice(a-3,a-1).includes("/")&&"/"===e[a-1]&&(Number(e.slice(a,a+2))>s||"/"===e[a+1]),l=Number(e.slice(a-3,a-1))>i&&!e.slice(a-3,a-1).includes("/")&&!e.slice(a-2,a).includes("/")&&Number(e.slice(a-2,a))>s,h=Number(e.slice(a-3,a-1))<=i&&!e.slice(a-3,a-1).includes("/")&&"/"!==e[a-1]&&Number(e.slice(a-1,a+1))>s;if(Number(v)>1&&this.leadZeroDateTime||r||n||c||l||h){a+=1,this._shiftStep(t,a,d.length),k--,this.leadZeroDateTime&&(o+="0");continue}}o+=v,a++}else-1!==this.maskSpecialCharacters.indexOf(t[a])?(o+=t[a],a++,this._shiftStep(t,a,d.length),k--):this.maskSpecialCharacters.indexOf(v)>-1&&this.maskAvailablePatterns[t[a]]&&this.maskAvailablePatterns[t[a]].optional?(d[a]&&"099.099.099.099"!==t&&"000.000.000-00"!==t&&"00.000.000/0000-00"!==t&&(o+=d[a]),a++,k--):"*"===this.maskExpression[a+1]&&this._findSpecialChar(this.maskExpression[a+2])&&this._findSpecialChar(v)===this.maskExpression[a+2]&&c||"?"===this.maskExpression[a+1]&&this._findSpecialChar(this.maskExpression[a+2])&&this._findSpecialChar(v)===this.maskExpression[a+2]&&c?(a+=3,o+=v):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(v)<0&&v!==this.placeHolderCharacter&&(u=!0);o.length+1===t.length&&-1!==this.maskSpecialCharacters.indexOf(t[t.length-1])&&(o+=t[t.length-1]);let p=i+1;for(;this._shift.has(p);)h++,p++;let f=s?a:this._shift.has(i)?h:0;u&&f--,n(f,l),h<0&&this._shift.clear();let m=!1;r&&(m=d.every(e=>this.maskSpecialCharacters.includes(e)));let g=`${this.prefix}${m?"":o}${this.suffix}`;return 0===o.length&&(g=`${this.prefix}${o}`),g}_findSpecialChar(e){return this.maskSpecialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[t]&&this.maskAvailablePatterns[t].pattern&&this.maskAvailablePatterns[t].pattern.test(e)}_stripToDecimal(e){return e.split("").filter((e,t)=>e.match("^-?\\d")||e.match("\\s")||"."===e||","===e||"-"===e&&0===t&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(e){if(e){const t="[\\^$.|?*+()";return" "===e?"\\s":t.indexOf(e)>=0?"\\"+e:e}return e}_shiftStep(e,t,i){const s=/[*?]/g.test(e.slice(0,t))?i:t;this._shift.add(s+this.prefix.length||0)}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(W))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac}),e})(),re=(()=>{class e extends se{constructor(e,t,i,s){super(t),this.document=e,this._config=t,this._elementRef=i,this._renderer=s,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.onChange=e=>{}}applyMask(e,t,i=0,s=!1,r=!1,n=(()=>{})){if(!t)return e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const a=e&&"number"==typeof this.selStart?e[this.selStart]:"";let o="";if(void 0!==this.hiddenInput){let t=this.actualValue.split("");""!==e&&t.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(e.length>t.length?t.splice(this.selStart,0,a):e.length<t.length&&(t.length-e.length==1?t.splice(this.selStart-1,1):t.splice(this.selStart,this.selEnd-this.selStart))):t=[],o=this.actualValue.length?this.shiftTypedSymbols(t.join("")):e}o=Boolean(o)&&o.length?o:e;const c=super.applyMask(o,t,i,s,r,n);if(this.actualValue=this.getActualValue(c),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(e=>e!==this.decimalMarker)),this.formControlResult(c),!this.showMaskTyped)return this.hiddenInput&&c&&c.length?this.hideInput(c,this.maskExpression):c;const l=c.length,h=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const e=this._numberSkipedSymbols(c);return c+h.slice(l+e)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?c+h:c+h.slice(l)}_numberSkipedSymbols(e){const t=/(^|\D)(\d\D)/g;let i=t.exec(e),s=0;for(;null!=i;)s+=1,i=t.exec(e);return s}applyValueChanges(e=0,t,i,s=(()=>{})){const r=this._elementRef.nativeElement;r.value=this.applyMask(r.value,this.maskExpression,e,t,i,s),r!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(e,t){return e.split("").map((e,i)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[t[i]]&&this.maskAvailablePatterns[t[i]].symbol?this.maskAvailablePatterns[t[i]].symbol:e).join("")}getActualValue(e){const t=e.split("").filter((e,t)=>this._checkSymbolMask(e,this.maskExpression[t])||this.maskSpecialCharacters.includes(this.maskExpression[t])&&e===this.maskExpression[t]);return t.join("")===e?t.join(""):e}shiftTypedSymbols(e){let t="";return(e&&e.split("").map((i,s)=>{if(this.maskSpecialCharacters.includes(e[s+1])&&e[s+1]!==this.maskExpression[s+1])return t=i,e[s+1];if(t.length){const e=t;return t="",e}return i})||[]).join("")}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(e){if("IP"===this.maskExpression)return this._checkForIp(e);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(e)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const e=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(e.value,this.maskExpression))}set formElementProperty([e,t]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,e,t))}checkSpecialCharAmount(e){return e.split("").filter(e=>this._findSpecialChar(e)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if("#"===e)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const t=[];for(let i=0;i<e.length;i++)e[i].match("\\d")&&t.push(e[i]);return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(e){const t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,i=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===e)return t;const s=[];for(let r=0;r<e.length;r++)e[r].match("\\d")&&s.push(e[r]);return s.length<=3?t.slice(s.length,t.length):s.length>3&&s.length<=6?t.slice(s.length+1,t.length):s.length>6&&s.length<=9?t.slice(s.length+2,t.length):s.length>9&&s.length<11?t.slice(s.length+3,t.length):11===s.length?"":12===s.length?i.slice(17===e.length?16:15,i.length):s.length>12&&s.length<=14?i.slice(s.length+4,i.length):""}formControlResult(e){this.writingValue||(Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(e)):this._removeSuffix(e)))}_toNumber(e){if(!this.isNumberValue)return e;const t=Number(e);return Number.isNaN(t)?e:t}_removeMask(e,t){return e?e.replace(this._regExpForRemove(t),""):e}_removePrefix(e){return this.prefix&&e?e.replace(this.prefix,""):e}_removeSuffix(e){return this.suffix&&e?e.replace(this.suffix,""):e}_retrieveSeparatorValue(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters)}_regExpForRemove(e){return new RegExp(e.map(e=>`\\${e}`).join("|"),"gi")}_checkSymbols(e){if(""===e)return e;const t=this._retrieveSeparatorPrecision(this.maskExpression);let i=this._retrieveSeparatorValue(e);return"."!==this.decimalMarker&&(i=i.replace(this.decimalMarker,".")),this.isNumberValue?t?e===this.decimalMarker?null:this._checkPrecision(this.maskExpression,i):Number(i):i}_retrieveSeparatorPrecision(e){const t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){return e.indexOf("2")>0?Number(t).toFixed(2):Number(t)}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(s.d),c.Ub(W),c.Ub(c.l),c.Ub(c.E))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac}),e})(),ne=(()=>{class e{constructor(e,t,i){this.document=e,this._maskService=t,this._config=i,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=e=>{},this.onTouch=()=>{}}ngOnChanges(e){const{maskExpression:t,specialCharacters:i,patterns:s,prefix:r,suffix:n,thousandSeparator:a,decimalMarker:o,dropSpecialCharacters:c,hiddenInput:l,showMaskTyped:h,placeHolderCharacter:u,shownMaskExpression:d,showTemplate:b,clearIfNotMatch:p,validation:f,separatorLimit:m,allowNegativeNumbers:g,leadZeroDateTime:k}=e;if(t&&(this._maskValue=t.currentValue||"",t.currentValue&&t.currentValue.split("||").length>1&&(this._maskExpressionArray=t.currentValue.split("||").sort((e,t)=>e.length-t.length),this._maskValue=this._maskExpressionArray[0],this.maskExpression=this._maskExpressionArray[0],this._maskService.maskExpression=this._maskExpressionArray[0])),i){if(!i.currentValue||!Array.isArray(i.currentValue))return;this._maskService.maskSpecialCharacters=i.currentValue||[]}s&&s.currentValue&&(this._maskService.maskAvailablePatterns=s.currentValue),r&&(this._maskService.prefix=r.currentValue),n&&(this._maskService.suffix=n.currentValue),a&&(this._maskService.thousandSeparator=a.currentValue),o&&(this._maskService.decimalMarker=o.currentValue),c&&(this._maskService.dropSpecialCharacters=c.currentValue),l&&(this._maskService.hiddenInput=l.currentValue),h&&(this._maskService.showMaskTyped=h.currentValue),u&&(this._maskService.placeHolderCharacter=u.currentValue),d&&(this._maskService.shownMaskExpression=d.currentValue),b&&(this._maskService.showTemplate=b.currentValue),p&&(this._maskService.clearIfNotMatch=p.currentValue),f&&(this._maskService.validation=f.currentValue),m&&(this._maskService.separatorLimit=m.currentValue),g&&(this._maskService.allowNegativeNumbers=g.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(e=>"-"!==e))),k&&(this._maskService.leadZeroDateTime=k.currentValue),this._applyMask()}validate({value:e}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(this._maskValue.startsWith("separator"))return null;if(ie.includes(this._maskValue))return null;if(this._maskService.clearIfNotMatch)return null;if(te.includes(this._maskValue))return this._validateTime(e);if(e&&e.toString().length>=1){let t=0;for(const i in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[i].optional&&!0===this._maskService.maskAvailablePatterns[i].optional){if(this._maskValue.indexOf(i)!==this._maskValue.lastIndexOf(i)?t+=this._maskValue.split("").filter(e=>e===i).join("").length:-1!==this._maskValue.indexOf(i)&&t++,-1!==this._maskValue.indexOf(i)&&e.toString().length>=this._maskValue.indexOf(i))return null;if(t===this._maskValue.length)return null}if(1===this._maskValue.indexOf("{")&&e.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4)return null;if(1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&e.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&e.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(e);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const i=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-t:this._maskValue.length-t;if(e.toString().length<i)return this._createValidationError(e)}}return null}onPaste(){this._justPasted=!0}onInput(e){const t=e.target;if(this._inputValue=t.value,this._setMask(),!this._maskValue)return void this.onChange(t.value);const i=1===t.selectionStart?t.selectionStart+this._maskService.prefix.length:t.selectionStart;let s=0,r=!1;if(this._maskService.applyValueChanges(i,this._justPasted,"Backspace"===this._code,(e,t)=>{this._justPasted=!1,s=e,r=t}),this.document.activeElement!==t)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let n=this._position?this._inputValue.length+i+s:i+("Backspace"!==this._code||r?s:0);n>this._getActualInputLength()&&(n=this._getActualInputLength()),t.setSelectionRange(n,n),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onFocus(e){if(!this._maskValue)return;const t=e.target;null!==t&&null!==t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&38!==e.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(0,0)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const i=t.value&&t.value!==this._maskService.prefix?t.value:this._maskService.prefix+this._maskService.maskIsShown;t.value!==i&&(t.value=i),(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length?t.selectionStart=this._maskService.prefix.length:t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){var t;if(!this._maskValue)return;this._code=e.code?e.code:e.key;const i=e.target;if(this._inputValue=i.value,this._setMask(),38===e.keyCode&&e.preventDefault(),37===e.keyCode||8===e.keyCode||46===e.keyCode){if(8===e.keyCode&&0===i.value.length&&(i.selectionStart=i.selectionEnd),8===e.keyCode&&0!==i.selectionStart)if(this.specialCharacters=(null===(t=this.specialCharacters)||void 0===t?void 0:t.length)?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&i.selectionStart<=this.prefix.length)i.setSelectionRange(this.prefix.length,this.prefix.length);else{if(this._inputValue.length!==i.selectionStart&&1!==i.selectionStart)for(;this.specialCharacters.includes(this._inputValue[i.selectionStart-1].toString())&&(this.prefix.length>=1&&i.selectionStart>this.prefix.length||0===this.prefix.length);)i.setSelectionRange(i.selectionStart-1,i.selectionStart-1);this.suffixCheckOnPressDelete(e.keyCode,i)}this.suffixCheckOnPressDelete(e.keyCode,i),this._maskService.prefix.length&&i.selectionStart<=this._maskService.prefix.length&&i.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();const s=i.selectionStart;8!==e.keyCode||i.readOnly||0!==s||i.selectionEnd!==i.value.length||0===i.value.length||(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<i.selectionStart?i.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===e.keyCode&&!0===e.ctrlKey||65===e.keyCode&&!0===e.metaKey)&&(i.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=i.selectionStart,this._maskService.selEnd=i.selectionEnd}writeValue(e){return Object(G.a)(this,void 0,void 0,function*(){"object"==typeof e&&null!==e&&"value"in e&&("disable"in e&&this.setDisabledState(Boolean(e.disable)),e=e.value),void 0===e&&(e=""),"number"==typeof e&&(e=String(e),e="."!==this.decimalMarker?e.replace(".",this.decimalMarker):e,this._maskService.isNumberValue=!0),e&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(e,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",e],this._inputValue=e})}registerOnChange(e){this.onChange=e,this._maskService.onChange=this.onChange}registerOnTouched(e){this.onTouch=e}suffixCheckOnPressDelete(e,t){46===e&&this.suffix.length>0&&this._inputValue.length-this.suffix.length<=t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),8===e&&(this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),1===this.suffix.length&&this._inputValue.length===t.selectionStart&&t.setSelectionRange(t.selectionStart-1,t.selectionStart-1))}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split("").reduce((t,i,s)=>{if(this._start="{"===i?s:this._start,"}"!==i)return this._maskService._findSpecialChar(i)?t+i:t;this._end=s;const r=Number(e.slice(this._start+1,this._end));return t+new Array(r+1).join(e[this._start-1])},"")||e}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(e){const t=this._maskValue.split("").filter(e=>":"!==e).length;return null===e||0===e.length?null:0==+e[e.length-1]&&e.length<t||e.length<=t-2?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(e=>{const t=this._maskService.removeMask(this._inputValue).length<=this._maskService.removeMask(e).length;if(this._inputValue&&t)return this._maskValue=e,this.maskExpression=e,this._maskService.maskExpression=e,t;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(s.d),c.Kb(re),c.Kb(W))},e.\u0275dir=c.Fb({type:e,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(e,t){1&e&&c.Xb("paste",function(){return t.onPaste()})("input",function(e){return t.onInput(e)})("blur",function(){return t.onBlur()})("click",function(e){return t.onFocus(e)})("keydown",function(e){return t.onKeyDown(e)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime"},features:[c.yb([{provide:h.h,useExisting:Object(c.T)(()=>e),multi:!0},{provide:h.g,useExisting:Object(c.T)(()=>e),multi:!0},re]),c.xb]}),e})(),ae=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:J,useValue:t},{provide:Y,useValue:ee},{provide:W,useFactory:oe,deps:[Y,J]},se]}}static forChild(){return{ngModule:e}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({}),e})();function oe(e,t){return Object.assign(Object.assign({},e),t instanceof Function?t():t)}const ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};ce.KeyboardEvent||(ce.KeyboardEvent=function(e,t){});var le=i("dZIy");let he=(()=>{class e{transform(e,...t){return e?"Yes":"No"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Jb({name:"boolean",type:e,pure:!0}),e})();function ue(e,t){1&e&&(c.Qb(0,"div",14),c.sc(1,"Please enter at least 3 characters"),c.Pb())}function de(e,t){if(1&e&&c.Lb(0,"span",15),2&e){const e=c.ac();c.fc("innerHTML",e.getSortClass("id"),c.mc)}}function be(e,t){if(1&e&&c.Lb(0,"span",15),2&e){const e=c.ac();c.fc("innerHTML",e.getSortClass("created"),c.mc)}}function pe(e,t){if(1&e&&c.Lb(0,"span",15),2&e){const e=c.ac();c.fc("innerHTML",e.getSortClass("email"),c.mc)}}function fe(e,t){if(1&e&&c.Lb(0,"span",15),2&e){const e=c.ac();c.fc("innerHTML",e.getSortClass("zipCode"),c.mc)}}function me(e,t){if(1&e&&c.Lb(0,"span",15),2&e){const e=c.ac();c.fc("innerHTML",e.getSortClass("active"),c.mc)}}function ge(e,t){if(1&e&&c.Lb(0,"span",15),2&e){const e=c.ac();c.fc("innerHTML",e.getSortClass("idRole"),c.mc)}}function ke(e,t){if(1&e&&(c.Qb(0,"option",19),c.sc(1),c.Pb()),2&e){const e=t.$implicit,i=c.ac(2);c.fc("ngValue",e)("selected",e===i.limit),c.zb(1),c.uc(" ",e," ")}}function ve(e,t){if(1&e){const e=c.Rb();c.Qb(0,"select",16,17),c.Xb("change",function(){c.lc(e);const t=c.jc(1);return c.ac().onChangeLimit(t.value)}),c.qc(2,ke,2,3,"option",18),c.Pb()}if(2&e){const e=c.ac();c.zb(2),c.fc("ngForOf",e.limitValues)}}function Se(e,t){if(1&e){const e=c.Rb();c.Qb(0,"tr"),c.Qb(1,"th"),c.Qb(2,"input",20,21),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.id=t}),c.Pb(),c.Pb(),c.Qb(4,"th"),c.Qb(5,"input",22,23),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.created=t}),c.Pb(),c.Pb(),c.Qb(7,"th"),c.Qb(8,"input",24,25),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.email=t}),c.Pb(),c.Pb(),c.Qb(10,"th"),c.Qb(11,"input",26,27),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.zipCode=t}),c.Pb(),c.Pb(),c.Qb(13,"th"),c.Qb(14,"select",28,29),c.Xb("ngModelChange",function(t){return c.lc(e),c.ac().model.active=t}),c.Lb(16,"option",30),c.Qb(17,"option",31),c.sc(18,"Yes"),c.Pb(),c.Qb(19,"option",32),c.sc(20,"No"),c.Pb(),c.Pb(),c.Pb(),c.Lb(21,"th"),c.Qb(22,"th"),c.Qb(23,"div",33),c.Lb(24,"input",34),c.Qb(25,"input",35),c.Xb("click",function(t){c.lc(e);const i=c.ac();return c.jc(6).reset(),t.preventDefault(),i.onFilterReset()}),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=c.ac();c.zb(2),c.fc("ngModel",e.model.id),c.zb(3),c.fc("ngModel",e.model.created)("dropSpecialCharacters",!1)("showMaskTyped",!0)("validation",!1),c.zb(3),c.fc("ngModel",e.model.email),c.zb(3),c.fc("ngModel",e.model.zipCode)("dropSpecialCharacters",!1)("showMaskTyped",!0)("validation",!1),c.zb(3),c.fc("ngModel",e.model.active)}}function _e(e,t){if(1&e){const e=c.Rb();c.Qb(0,"ul",41),c.Qb(1,"li",42),c.Qb(2,"a",43),c.Xb("click",function(){c.lc(e);const t=c.ac().$implicit;return c.ac(2).onView(t)}),c.sc(3,"View"),c.Pb(),c.Pb(),c.Qb(4,"li",42),c.Qb(5,"a",43),c.Xb("click",function(){c.lc(e);const t=c.ac().$implicit;return c.ac(2).onEdit(t)}),c.sc(6,"Edit"),c.Pb(),c.Pb(),c.Qb(7,"li",42),c.Qb(8,"a",43),c.Xb("click",function(){c.lc(e);const t=c.ac().$implicit;return c.ac(2).onSetRole(t)}),c.sc(9,"Set role"),c.Pb(),c.Pb(),c.Qb(10,"li",42),c.Qb(11,"a",43),c.Xb("click",function(){c.lc(e);const t=c.ac().$implicit;return c.ac(2).onDownload(t)}),c.sc(12,"Download"),c.Pb(),c.Pb(),c.Qb(13,"li",42),c.Qb(14,"a",43),c.Xb("click",function(){c.lc(e);const t=c.ac().$implicit;return c.ac(2).onDelete(t)}),c.sc(15,"Delete"),c.Pb(),c.Pb(),c.Pb()}}function xe(e,t){if(1&e&&(c.Qb(0,"tr"),c.Qb(1,"td"),c.sc(2),c.Pb(),c.Qb(3,"td"),c.sc(4),c.Pb(),c.Qb(5,"td"),c.sc(6),c.Pb(),c.Qb(7,"td"),c.sc(8),c.Pb(),c.Qb(9,"td"),c.sc(10),c.bc(11,"boolean"),c.Pb(),c.Qb(12,"td"),c.sc(13),c.Pb(),c.Qb(14,"div",37),c.Qb(15,"button",38),c.sc(16," Actions "),c.Lb(17,"span",39),c.Pb(),c.qc(18,_e,16,0,"ul",40),c.Pb(),c.Pb()),2&e){const e=t.$implicit;c.zb(2),c.tc(e.id),c.zb(2),c.tc(e.created),c.zb(2),c.tc(e.email),c.zb(2),c.tc(e.zipCode),c.zb(2),c.tc(c.cc(11,6,e.active)),c.zb(3),c.tc(e.idRole)}}function Pe(e,t){if(1&e&&(c.Qb(0,"tbody"),c.qc(1,xe,19,8,"tr",36),c.Pb()),2&e){const e=c.ac();c.zb(1),c.fc("ngForOf",e.items)}}function ye(e,t){1&e&&(c.Qb(0,"caption"),c.sc(1," No records "),c.Pb())}function we(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",44),c.Qb(1,"div",45),c.sc(2),c.Pb(),c.Qb(3,"div",46),c.sc(4),c.Pb(),c.Qb(5,"div",45),c.Qb(6,"button",47),c.Xb("click",function(){return c.lc(e),c.ac().onNext()}),c.sc(7,">"),c.Pb(),c.Qb(8,"button",48),c.Xb("click",function(){return c.lc(e),c.ac().onPrev()}),c.sc(9,"<"),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=c.ac();c.zb(2),c.uc("Total: ",e.total,""),c.zb(2),c.vc("Page ",e.page," z ",e.getTotalPage(),""),c.zb(2),c.fc("disabled",e.total<=e.limit*e.page),c.zb(2),c.fc("disabled",1===e.page)}}let Ce=(()=>{class e extends _{constructor(e,t,i,s,r,a){super(),this.headerService=e,this.messageService=t,this.modalService=i,this.userService=s,this.router=r,this.modalConfirmService=a,this.model=new o,this.subscription=new n.a,this.headerService.set("Users"),this.filterOneSign=["id"]}onRefresh(){this.subscription.add(this.getUsers())}onDownload(e){this.subscription.add(this.downloadFile(e))}onView(e){this.router.navigate(["user/",e.id])}onEdit(e){this.subscription.add(this.putUserModal(e))}onDelete(e){this.subscription.add(this.modalConfirmService.confirm("Are you sure you want to delete the record ?").subscribe(t=>{t&&this.subscription.add(this.deleteUser(e))}))}onCreate(){this.subscription.add(this.postUserModal())}onSetRole(e){this.subscription.add(this.setRoleToUser(e))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getUsers(){return this.userService.get(this.limit,this.page,this.sortBy,this.order,this.filters).subscribe(e=>{this.items=e.items,this.total=e.total})}downloadFile(e){return this.userService.downloadFile(e).subscribe()}postUserModal(){return this.userModal(new o).subscribe({next:e=>{null!==e&&this.postUser(e)},error:()=>this.messageService.sendMessage("Adding a new record failed",F.a.error)})}putUserModal(e){return this.userModal(e).subscribe({next:e=>{null!==e&&this.putUser(e)},error:()=>this.messageService.sendMessage("Update record failed",F.a.error)})}postUser(e){return this.userService.post(e).subscribe({complete:()=>{this.onRefresh(),this.messageService.sendMessage("Record added correctly")}})}putUser(e){return this.userService.update(e.id,e).subscribe({complete:()=>{this.onRefresh(),this.messageService.sendMessage("Record updated correctly")}})}deleteUser(e){return this.userService.delete(e.id).subscribe({complete:()=>{this.onRefresh(),this.messageService.sendMessage("Record deleted correctly")}})}patchUser(e,t){return this.userService.patch(e,t).subscribe({complete:()=>{this.onRefresh(),this.messageService.sendMessage("Role has been assigned correctly")}})}setRoleToUser(e){return this.getModalRole().subscribe({next:t=>{this.patchUser(e.id.toString(),{idRole:t.id})},error:()=>this.messageService.sendMessage("The role was not assigned correctly",F.a.error)})}userModal(e){const t=new a.a;let i={};e&&(i={model:e});const s=this.modalService.show(S,{initialState:i,class:"modal-md",ignoreBackdropClick:!0});return s.content&&(s.content.subject=t),t}getModalRole(){const e=new a.a,t=this.modalService.show($,{initialState:{},class:"modal-xl",ignoreBackdropClick:!0});return t.content&&(t.content.subject=e),e}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(D.a),c.Kb(U.a),c.Kb(l.b),c.Kb(Z),c.Kb(r.b),c.Kb(E))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-user"]],features:[c.wb],decls:40,vars:12,consts:[[1,"row"],[1,"col-12"],["type","button","title","Add new user",1,"btn","btn-sm","btn-dark","mb-1","float-right",3,"click"],["class","text-danger",4,"ngIf"],["name","form","autocomplete","off",3,"ngSubmit"],["f","ngForm"],[1,"datatable","table-responsive"],[1,"table","table-striped","table-sm"],["scope","col"],[3,"click"],[3,"innerHTML",4,"ngIf"],["class","form-control form-control-sm float-right","name","limit","id","limit",3,"change",4,"ngIf"],[4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"text-danger"],[3,"innerHTML"],["name","limit","id","limit",1,"form-control","form-control-sm","float-right",3,"change"],["limitSelect",""],[3,"ngValue","selected",4,"ngFor","ngForOf"],[3,"ngValue","selected"],["type","text","name","id",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["id","ngModel"],["type","text","name","created","mask","0000-00-00 00:00:00","placeHolderCharacter","_",1,"form-control","form-control-sm",3,"ngModel","dropSpecialCharacters","showMaskTyped","validation","ngModelChange"],["created","ngModel"],["type","text","name","email",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","name","zipCode","mask","00-000","placeHolderCharacter","_",1,"form-control","form-control-sm",3,"ngModel","dropSpecialCharacters","showMaskTyped","validation","ngModelChange"],["zipCode","ngModel"],["name","active",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["active","ngModel"],["value","null"],["value","true"],["value","false"],[1,"btn-group","float-right"],["type","image","src","assets/icons/search.svg","width","20","height","20","title","Search",1,"mt-1","no-outline"],["type","image","src","assets/icons/x.svg","width","32","height","32","title","Clear filter",1,"no-outline",3,"click"],[4,"ngFor","ngForOf"],["dropdown","",1,"btn-group"],["id","dropdown-button","dropdownToggle","","type","button","aria-controls","dropdown-list",1,"btn","btn-sm","btn-outline-dark","dropdown-toggle"],[1,"caret"],["id","dropdown-list","class","dropdown-menu left-minus-85","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["id","dropdown-list","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","left-minus-85"],["role","menuitem"],[1,"dropdown-item","hand",3,"click"],[1,"row","justify-content-center"],[1,"col-4"],[1,"col-4","text-center"],[1,"btn","btn-dark","btn-sm","float-right","ml-1",3,"disabled","click"],[1,"btn","btn-dark","btn-sm","float-right",3,"disabled","click"]],template:function(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"button",2),c.Xb("click",function(){return t.onCreate()}),c.sc(3,"Add new user"),c.Pb(),c.qc(4,ue,2,0,"div",3),c.Qb(5,"form",4,5),c.Xb("ngSubmit",function(){c.lc(e);const i=c.jc(6);return i.form.valid&&t.onFilter(i)}),c.Qb(7,"div",6),c.Qb(8,"table",7),c.Qb(9,"thead"),c.Qb(10,"th",8),c.Qb(11,"a",9),c.Xb("click",function(){return t.onSort("id")}),c.sc(12,"Id "),c.qc(13,de,1,1,"span",10),c.Pb(),c.Pb(),c.Qb(14,"th",8),c.Qb(15,"a",9),c.Xb("click",function(){return t.onSort("created")}),c.sc(16,"Create date "),c.qc(17,be,1,1,"span",10),c.Pb(),c.Pb(),c.Qb(18,"th",8),c.Qb(19,"a",9),c.Xb("click",function(){return t.onSort("email")}),c.sc(20,"Email "),c.qc(21,pe,1,1,"span",10),c.Pb(),c.Pb(),c.Qb(22,"th",8),c.Qb(23,"a",9),c.Xb("click",function(){return t.onSort("zipCode")}),c.sc(24,"Zip code "),c.qc(25,fe,1,1,"span",10),c.Pb(),c.Pb(),c.Qb(26,"th",8),c.Qb(27,"a",9),c.Xb("click",function(){return t.onSort("active")}),c.sc(28,"Is active "),c.qc(29,me,1,1,"span",10),c.Pb(),c.Pb(),c.Qb(30,"th",8),c.Qb(31,"a",9),c.Xb("click",function(){return t.onSort("IdRole")}),c.sc(32,"Role "),c.qc(33,ge,1,1,"span",10),c.Pb(),c.Pb(),c.Qb(34,"th",8),c.qc(35,ve,3,1,"select",11),c.Pb(),c.Pb(),c.qc(36,Se,26,11,"tr",12),c.qc(37,Pe,2,1,"tbody",12),c.qc(38,ye,2,0,"caption",12),c.Pb(),c.Pb(),c.Pb(),c.qc(39,we,10,5,"div",13),c.Pb(),c.Pb()}2&e&&(c.zb(4),c.fc("ngIf",t.filterError),c.zb(9),c.fc("ngIf","id"===t.sortBy),c.zb(4),c.fc("ngIf","created"===t.sortBy),c.zb(4),c.fc("ngIf","email"===t.sortBy),c.zb(4),c.fc("ngIf","zipCode"===t.sortBy),c.zb(4),c.fc("ngIf","active"===t.sortBy),c.zb(4),c.fc("ngIf","idRole"===t.sortBy),c.zb(2),c.fc("ngIf",t.limitEnabled),c.zb(1),c.fc("ngIf",t.filterEnabled),c.zb(1),c.fc("ngIf",t.items),c.zb(1),c.fc("ngIf",!t.items),c.zb(1),c.fc("ngIf",t.items&&t.total>t.limit))},directives:[s.k,h.r,h.j,h.k,s.j,h.n,h.s,h.b,h.i,h.l,ne,h.q,le.a,le.d,le.b],pipes:[he],styles:[""]}),e})(),Me=(()=>{class e{constructor(e){this.headerService=e,this.headerService.set("Users")}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(D.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["ng-component"]],decls:7,vars:2,consts:[[1,"list-group"],[1,"list-group-item"],[1,"text-dark",3,"routerLink"]],template:function(e,t){1&e&&(c.Qb(0,"ul",0),c.Qb(1,"li",1),c.Qb(2,"a",2),c.sc(3,"Users"),c.Pb(),c.Pb(),c.Qb(4,"li",1),c.Qb(5,"a",2),c.sc(6,"Users search"),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.zb(2),c.fc("routerLink","/user/datatable/"),c.zb(3),c.fc("routerLink","/user/search/"))},directives:[r.e],styles:[""]}),e})();function Qe(e,t){if(1&e&&(c.Ob(0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"div",3),c.Qb(4,"table",4),c.Qb(5,"tbody"),c.Qb(6,"tr"),c.Qb(7,"th",5),c.sc(8,"Id"),c.Pb(),c.Qb(9,"td"),c.sc(10),c.Pb(),c.Pb(),c.Qb(11,"tr"),c.Qb(12,"th",5),c.sc(13,"Email"),c.Pb(),c.Qb(14,"td"),c.sc(15),c.Pb(),c.Pb(),c.Qb(16,"tr"),c.Qb(17,"th",5),c.sc(18,"Zipcode"),c.Pb(),c.Qb(19,"td"),c.sc(20),c.Pb(),c.Pb(),c.Qb(21,"tr"),c.Qb(22,"th",5),c.sc(23,"Create date"),c.Pb(),c.Qb(24,"td"),c.sc(25),c.Pb(),c.Pb(),c.Qb(26,"tr"),c.Qb(27,"th",5),c.sc(28,"Is active"),c.Pb(),c.Qb(29,"td"),c.sc(30),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(31,"button",6),c.sc(32,"Back"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Nb()),2&e){const e=t.ngIf;c.zb(10),c.tc(e.id),c.zb(5),c.tc(e.email),c.zb(5),c.tc(e.zipCode),c.zb(5),c.tc(e.created),c.zb(5),c.tc(e.active),c.zb(1),c.fc("routerLink","/user/datatable")}}let Ee=(()=>{class e{constructor(e,t,i){this.route=e,this.userService=t,this.headerService=i,this.idUser="",this.subscription=new n.a;const s=this.route.snapshot.paramMap.get("id");s&&(this.idUser=s),this.headerService.set("User: "+this.idUser),this.$user=this.userService.getById(this.idUser).pipe(Object(q.a)(e=>e.item))}ngOnInit(){}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(r.a),c.Kb(Z),c.Kb(D.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"row"],[1,"col-12","col-md-6"],[1,"table-responsive"],[1,"table","table-striped"],["scope","row"],[1,"btn","btn-dark",3,"routerLink"]],template:function(e,t){1&e&&(c.qc(0,Qe,33,6,"ng-container",0),c.bc(1,"async")),2&e&&c.fc("ngIf",c.cc(1,1,t.$user))},directives:[s.k,r.c],pipes:[s.b],styles:[""]}),e})();var Ie=i("Kj3r"),Ve=i("vkgz");function Re(e,t){if(1&e&&(c.Qb(0,"tbody"),c.Qb(1,"tr"),c.Qb(2,"th",10),c.sc(3,"Id"),c.Pb(),c.Qb(4,"td"),c.sc(5),c.Pb(),c.Pb(),c.Qb(6,"tr"),c.Qb(7,"th",10),c.sc(8,"Email"),c.Pb(),c.Qb(9,"td"),c.sc(10),c.Pb(),c.Pb(),c.Qb(11,"tr"),c.Qb(12,"th",10),c.sc(13,"Zipcode"),c.Pb(),c.Qb(14,"td"),c.sc(15),c.Pb(),c.Pb(),c.Qb(16,"tr"),c.Qb(17,"th",10),c.sc(18,"Create date"),c.Pb(),c.Qb(19,"td"),c.sc(20),c.Pb(),c.Pb(),c.Qb(21,"tr"),c.Qb(22,"th",10),c.sc(23,"Is active"),c.Pb(),c.Qb(24,"td"),c.sc(25),c.bc(26,"boolean"),c.Pb(),c.Pb(),c.Pb()),2&e){const e=c.ac();c.zb(5),c.tc(e.item.id),c.zb(5),c.tc(e.item.email),c.zb(5),c.tc(e.item.zipCode),c.zb(5),c.tc(e.item.created),c.zb(5),c.tc(c.cc(26,5,e.item.active))}}const ze=[{path:"",component:Me},{path:"datatable",component:Ce},{path:"search",component:(()=>{class e{constructor(e,t){this.userService=e,this.headerService=t,this.item=new o,this.caption="",this.subscription=new n.a,this.headerService.set("User search")}ngOnInit(){}onSearch(e){e.length>0?this.subscription.add(this.search(e)):this.item=new o}search(e){return this.userService.getById(e).pipe(Object(Ie.a)(500),Object(Ve.a)(e=>{e.item?(this.caption="",this.item=e.item):(this.caption="Is not exist",this.item=new o)})).subscribe()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(Z),c.Kb(D.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["ng-component"]],decls:14,vars:2,consts:[[1,"row"],[1,"col-12","col-md-6"],[1,"table-responsive"],[1,"table","table-borderless","table-striped"],["scope","col","colspan","2"],["scope","col","colspan","2",1,"p-0"],["type","text","size","100%","name","id","placeholder","empty user id",1,"form-control","form-control-sm",3,"input"],["id",""],[4,"ngIf"],[3,"innerHTML"],["scope","row"]],template:function(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"table",3),c.Qb(4,"thead"),c.Qb(5,"tr"),c.Qb(6,"th",4),c.sc(7,"User search"),c.Pb(),c.Pb(),c.Pb(),c.Qb(8,"tr"),c.Qb(9,"th",5),c.Qb(10,"input",6,7),c.Xb("input",function(){c.lc(e);const i=c.jc(11);return t.onSearch(i.value)}),c.Pb(),c.Pb(),c.Pb(),c.qc(12,Re,27,7,"tbody",8),c.Lb(13,"caption",9),c.Pb(),c.Pb(),c.Pb(),c.Pb()}2&e&&(c.zb(12),c.fc("ngIf",t.item.id),c.zb(1),c.fc("innerHTML",t.caption,c.mc))},directives:[s.k],pipes:[he],styles:[""]}),e})()},{path:":id",component:Ee}];let Te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[r.f.forChild(ze)],r.f]}),e})();var Ne=i("PCNd");let Oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[s.c,Te,Ne.a,h.d,ae.forRoot(),le.c.forRoot()]]}),e})()},Iab2:function(e,t,i){var s,r;void 0===(r="function"==typeof(s=function(){"use strict";function t(e,t,i){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){a(s.response,t,i)},s.onerror=function(){console.error("could not download file")},s.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,n=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(e,n,a){var o=r.URL||r.webkitURL,c=document.createElement("a");c.download=n=n||e.name||"download",c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?s(c):i(c.href)?t(e,n,a):s(c,c.target="_blank")):(c.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(c.href)},4e4),setTimeout(function(){s(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,n){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,n),r);else if(i(e))t(e,r,n);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){s(a)})}}:function(e,i,s,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,i,s);var o="application/octet-stream"===e.type,c=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&c||n)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var e=h.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},h.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,d=u.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});r.saveAs=a.saveAs=a,e.exports=a})?s.apply(t,[]):s)||(e.exports=r)}}]);