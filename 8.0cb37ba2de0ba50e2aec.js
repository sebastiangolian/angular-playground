(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{DdyB:function(e,t,r){"use strict";r.r(t),r.d(t,"HeroModule",function(){return X});var n=r("ofXK"),o=r("tyNb"),s=r("HDdC"),c=r("lJxs"),i=r("fXoL"),a=r("OJug"),b=r("tk/3");let u=(()=>{class e{constructor(){this.messages=[]}get(){return this.messages}add(e){this.messages.unshift(e),this.messages.length>15&&this.messages.pop()}clear(){this.messages=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),h=(()=>{class e extends a.a{constructor(e,t){super(e),this.http=e,this.heroMessageService=t,this.url+="/hero"}get(e,t,r,n,o){return this.heroMessageService.add("HeroService.getAll"),super.get(e,t,r,n,o)}getOne(){return this.heroMessageService.add("HeroService.getOne"),super.getOne()}getById(e){return this.heroMessageService.add("HeroService.getById: "+e),super.getById(e)}getByName(e){return this.heroMessageService.add("HeroService.getByName: "+e),this.http.get(this.url+"/search/"+e)}create(e){return this.heroMessageService.add("HeroService.create: "+e.name),super.post(e)}update(e,t){return this.heroMessageService.add("HeroService.update: "+e),super.update(e,t)}patch(e,t){return this.heroMessageService.add("HeroService.patch: "+e),super.patch(e,t)}delete(e){return this.heroMessageService.add("HeroService.delete: "+e),super.delete(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Ub(b.b),i.Ub(u))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),l=(()=>{class e{constructor(){this.currentUrl=""}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["hero-menu"]],inputs:{currentUrl:"currentUrl"},decls:4,vars:6,consts:[[1,"btn","btn-outline-dark","mr-1","mb-3",3,"routerLink"],[1,"btn","btn-outline-dark","mb-3",3,"routerLink"]],template:function(e,t){1&e&&(i.Qb(0,"a",0),i.sc(1,"Dashboard"),i.Pb(),i.Qb(2,"a",1),i.sc(3,"Heroes"),i.Pb()),2&e&&(i.Cb("active","/hero/dashboard"===t.currentUrl),i.fc("routerLink","/hero/dashboard"),i.zb(2),i.Cb("active","/hero"===t.currentUrl),i.fc("routerLink","/hero/"))},directives:[o.e],styles:[""],changeDetection:0}),e})();var d=r("XNiG"),p=r("LRne"),g=r("Kj3r"),f=r("/uUt"),m=r("eIep");function v(e,t){if(1&e&&(i.Qb(0,"li",6),i.sc(1),i.Pb()),2&e){const e=t.$implicit;i.gc("routerLink","/hero/detail/",e.id,""),i.zb(1),i.uc(" ",e.name," ")}}function P(e,t){if(1&e&&(i.Qb(0,"ul",4),i.qc(1,v,2,2,"li",5),i.Pb()),2&e){const e=t.ngIf;i.zb(1),i.fc("ngForOf",e)}}let k=(()=>{class e{constructor(e){this.heroService=e,this.searchTerms=new d.a,this.heroes$=this.searchTerms.pipe(Object(g.a)(300),Object(f.a)(),Object(m.a)(e=>e.length>2?this.heroService.getByName(e).pipe(Object(c.a)(e=>e.items)):Object(p.a)([])))}search(e){this.searchTerms.next(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(h))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-hero-search"]],decls:6,vars:3,consts:[[1,"text-danger","mt-3"],["id","search-box","placeholder","i need three letter...",3,"input"],["searchBox",""],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item hand",3,"routerLink",4,"ngFor","ngForOf"],[1,"list-group-item","hand",3,"routerLink"]],template:function(e,t){if(1&e){const e=i.Rb();i.Qb(0,"h4",0),i.sc(1,"Hero Search"),i.Pb(),i.Qb(2,"input",1,2),i.Xb("input",function(){i.lc(e);const r=i.jc(3);return t.search(r.value)}),i.Pb(),i.qc(4,P,2,1,"ul",3),i.bc(5,"async")}2&e&&(i.zb(4),i.fc("ngIf",i.cc(5,1,t.heroes$)))},directives:[n.k,n.j,o.c],pipes:[n.b],styles:[".list-group[_ngcontent-%COMP%]{width:170px;position:absolute;z-index:1}input[_ngcontent-%COMP%]{width:170px}"]}),e})();function O(e,t){if(1&e&&(i.Qb(0,"div"),i.sc(1),i.Pb()),2&e){const e=t.$implicit;i.zb(1),i.tc(e)}}function Q(e,t){if(1&e){const e=i.Rb();i.Qb(0,"div"),i.Qb(1,"button",2),i.Xb("click",function(){return i.lc(e),i.ac().onClearClick()}),i.sc(2,"clear"),i.Pb(),i.qc(3,O,2,1,"div",3),i.Pb()}if(2&e){const e=i.ac();i.zb(3),i.fc("ngForOf",e.messages)}}let M=(()=>{class e{constructor(){this.messages=[],this.cleared=new i.n}onClearClick(){this.cleared.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["hero-messages"]],inputs:{messages:"messages"},outputs:{cleared:"cleared"},decls:3,vars:1,consts:[[1,"text-danger","mt-3"],[4,"ngIf"],[1,"clear",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i.Qb(0,"h4",0),i.sc(1,"Messages"),i.Pb(),i.qc(2,Q,4,1,"div",1)),2&e&&(i.zb(2),i.fc("ngIf",t.messages.length))},directives:[n.k,n.j],styles:["h2[_ngcontent-%COMP%]{color:red;font-family:Arial,Helvetica,sans-serif;font-weight:lighter}body[_ngcontent-%COMP%]{margin:2em}body[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[text][_ngcontent-%COMP%]{color:#dc143c;font-family:Cambria,Georgia}button.clear[_ngcontent-%COMP%]{font-family:Arial;background-color:#eee;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;cursor:hand}button[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}button[_ngcontent-%COMP%]:disabled{background-color:#eee;color:#aaa;cursor:auto}button.clear[_ngcontent-%COMP%]{color:#888;margin-bottom:12px}"]}),e})();function x(e,t){if(1&e&&(i.Qb(0,"a",3),i.Qb(1,"div",4),i.Qb(2,"h4"),i.sc(3),i.Pb(),i.Pb(),i.Pb()),2&e){const e=t.$implicit;i.gc("routerLink","/hero/detail/",e.id,""),i.zb(3),i.tc(e.name)}}let y=(()=>{class e{constructor(){this.heroes=[]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["hero-top-heroes"]],inputs:{heroes:"heroes"},decls:4,vars:1,consts:[[1,"text-danger","mt-3"],[1,"row"],["class","col-12 col-md-3 mb-1 text-decoration-none",3,"routerLink",4,"ngFor","ngForOf"],[1,"col-12","col-md-3","mb-1","text-decoration-none",3,"routerLink"],[1,"hero"]],template:function(e,t){1&e&&(i.Qb(0,"h4",0),i.sc(1,"Top-4 hero"),i.Pb(),i.Qb(2,"div",1),i.qc(3,x,4,2,"a",2),i.Pb()),2&e&&(i.zb(3),i.fc("ngForOf",t.heroes))},directives:[n.j,o.e],styles:[".hero[_ngcontent-%COMP%]{background-color:#607d8b;color:#fff;padding:20px;text-align:center}"]}),e})();function S(e,t){if(1&e&&(i.Ob(0),i.Lb(1,"hero-top-heroes",6),i.Nb()),2&e){const e=t.ngIf;i.zb(1),i.fc("heroes",e)}}let w=(()=>{class e{constructor(e,t,r){this.heroService=e,this.heroMessageService=t,this.router=r,this.topHeroes$=new s.a,this.heroMessages=[],this.currentUrl=""}ngOnInit(){this.getTopHeroes(),this.getHeroMessages(),this.currentUrl=this.router.url}onMessageClear(){this.heroMessageService.clear()}getTopHeroes(){this.topHeroes$=this.heroService.get(4,0).pipe(Object(c.a)(e=>e.items))}getHeroMessages(){this.heroMessages=this.heroMessageService.get()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(h),i.Kb(u),i.Kb(o.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["ng-component"]],decls:10,vars:5,consts:[[1,"row"],[1,"col-12","col-md-9"],[3,"currentUrl"],[1,"col-12","col-md-3"],[4,"ngIf"],[3,"messages","cleared"],[3,"heroes"]],template:function(e,t){1&e&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Lb(2,"hero-menu",2),i.Pb(),i.Qb(3,"div",3),i.Lb(4,"app-hero-search"),i.Pb(),i.Qb(5,"div",1),i.qc(6,S,2,1,"ng-container",4),i.bc(7,"async"),i.Pb(),i.Qb(8,"div",3),i.Qb(9,"hero-messages",5),i.Xb("cleared",function(){return t.onMessageClear()}),i.Pb(),i.Pb(),i.Pb()),2&e&&(i.zb(2),i.fc("currentUrl",t.currentUrl),i.zb(4),i.fc("ngIf",i.cc(7,3,t.topHeroes$)),i.zb(3),i.fc("messages",t.heroMessages))},directives:[l,k,n.k,M,y],pipes:[n.b],styles:[""]}),e})();var C=r("quSY"),U=r("3Pt+");function H(e,t){if(1&e){const e=i.Rb();i.Qb(0,"div"),i.Qb(1,"h2"),i.sc(2),i.bc(3,"uppercase"),i.Pb(),i.Qb(4,"div"),i.Qb(5,"span"),i.sc(6,"id: "),i.Pb(),i.sc(7),i.Pb(),i.Qb(8,"div"),i.Qb(9,"label"),i.sc(10,"name: "),i.Qb(11,"input",1),i.Xb("ngModelChange",function(t){return i.lc(e),i.ac().hero.name=t}),i.Pb(),i.Pb(),i.Pb(),i.Qb(12,"button",2),i.Xb("click",function(){return i.lc(e),i.ac().goBack()}),i.sc(13,"Back"),i.Pb(),i.Qb(14,"button",3),i.Xb("click",function(){return i.lc(e),i.ac().save()}),i.sc(15,"Save"),i.Pb(),i.Pb()}if(2&e){const e=i.ac();i.zb(2),i.tc(i.cc(3,3,e.hero.name)),i.zb(5),i.tc(e.hero.id),i.zb(4),i.fc("ngModel",e.hero.name)}}let I=(()=>{class e{constructor(){this.hero=null,this.back=new i.n,this.update=new i.n}ngOnInit(){}goBack(){this.back.emit(!0)}save(){this.hero&&this.update.emit(this.hero)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["hero-update"]],inputs:{hero:"hero"},outputs:{back:"back",update:"update"},decls:1,vars:1,consts:[[4,"ngIf"],["placeholder","name",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-outline-dark","mr-1",3,"click"],[1,"btn","btn-sm","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&i.qc(0,H,16,5,"div",0),2&e&&i.fc("ngIf",t.hero)},directives:[n.k,U.b,U.i,U.l],pipes:[n.o],styles:[""],changeDetection:0}),e})(),z=(()=>{class e{constructor(e,t,r,n){this.route=e,this.heroService=t,this.router=r,this.location=n,this.hero=null,this.currentUrl="",this.subscription=new C.a}ngOnInit(){this.getHero(),this.currentUrl=this.router.url}getHero(){const e=this.route.snapshot.paramMap.get("id");e&&this.subscription.add(this.heroGetSubscription(e))}onHeroUpdate(e){this.subscription.add(this.heroUpdateSubscription(e))}onBackUpdate(){this.location.back()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}heroGetSubscription(e){return this.heroService.getById(e).subscribe(e=>this.hero=e.item)}heroUpdateSubscription(e){return this.heroService.update(e.id.toString(),e).subscribe(()=>this.onBackUpdate())}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(o.a),i.Kb(h),i.Kb(o.b),i.Kb(n.g))},e.\u0275cmp=i.Eb({type:e,selectors:[["ng-component"]],decls:9,vars:2,consts:[[1,"row"],[1,"col-12","col-md-9"],[3,"currentUrl"],[1,"col-12","col-md-3"],[3,"hero","back","update"]],template:function(e,t){1&e&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Lb(2,"hero-menu",2),i.Pb(),i.Qb(3,"div",3),i.Lb(4,"app-hero-search"),i.Pb(),i.Qb(5,"div",1),i.Qb(6,"hero-update",4),i.Xb("back",function(){return t.onBackUpdate()})("update",function(e){return t.onHeroUpdate(e)}),i.Pb(),i.Pb(),i.Qb(7,"div",3),i.Lb(8,"hero-messages"),i.Pb(),i.Pb()),2&e&&(i.zb(2),i.fc("currentUrl",t.currentUrl),i.zb(4),i.fc("hero",t.hero))},directives:[l,k,I,M],styles:[""]}),e})();function L(e,t){if(1&e){const e=i.Rb();i.Qb(0,"div",3),i.Qb(1,"div",4),i.sc(2),i.Pb(),i.Qb(3,"div",5),i.Qb(4,"a",6),i.sc(5),i.Pb(),i.Pb(),i.Qb(6,"div",7),i.Xb("click",function(){i.lc(e);const r=t.$implicit;return i.ac().delete(r)}),i.sc(7,"X"),i.Pb(),i.Pb()}if(2&e){const e=t.$implicit;i.zb(2),i.tc(e.id),i.zb(2),i.gc("routerLink","/hero/detail/",e.id,""),i.zb(1),i.tc(e.name)}}let _=(()=>{class e{constructor(e){this.heroService=e,this.heroes=[]}ngOnInit(){this.getHeroes()}getHeroes(){this.heroService.get().subscribe(e=>this.heroes=e.items)}add(e){(e=e.trim())&&this.heroService.create({name:e}).subscribe(e=>{this.heroes.push(e.item)})}delete(e){this.heroes=this.heroes.filter(t=>t!==e),this.heroService.delete(e.id.toString()).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(h))},e.\u0275cmp=i.Eb({type:e,selectors:[["hero-list"]],decls:7,vars:1,consts:[["heroName",""],[1,"btn","btn-sm","btn-outline-dark","mb-1","ml-1",3,"click"],["class","hero",4,"ngFor","ngForOf"],[1,"hero"],[1,"hero-id"],[1,"hero-name"],[3,"routerLink"],[1,"hero-delete",3,"click"]],template:function(e,t){if(1&e){const e=i.Rb();i.Qb(0,"label"),i.sc(1,"Name: "),i.Lb(2,"input",null,0),i.Pb(),i.Qb(4,"button",1),i.Xb("click",function(){i.lc(e);const r=i.jc(3);return t.add(r.value),r.value=""}),i.sc(5,"Add"),i.Pb(),i.qc(6,L,8,3,"div",2)}2&e&&(i.zb(6),i.fc("ngForOf",t.heroes))},directives:[n.j,o.e],styles:[".hero[_ngcontent-%COMP%]{margin-bottom:5px;font-size:14px;width:200px}.hero[_ngcontent-%COMP%]:hover{margin-left:5px}.hero-id[_ngcontent-%COMP%]{background-color:#607d8b;padding:5px 10px 5px 8px;color:#fff;border-radius:4px 0 0 4px;width:30px;text-align:right}.hero-id[_ngcontent-%COMP%], .hero-name[_ngcontent-%COMP%]{display:inline-block}.hero-name[_ngcontent-%COMP%]{padding:5px;background-color:#eee;color:#888;width:120px}.hero-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.hero-delete[_ngcontent-%COMP%]{display:inline-block;padding:5px 5px 5px 10px;background-color:grey;color:#fff;width:28px;border-radius:0 4px 4px 0;cursor:hand}"]}),e})();const j=[{path:"dashboard",component:w},{path:"detail/:id",component:z},{path:"",component:(()=>{class e{constructor(e){this.router=e,this.currentUrl=""}ngOnInit(){this.currentUrl=this.router.url}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(o.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["ng-component"]],decls:9,vars:1,consts:[[1,"row"],[1,"col-12","col-md-9"],[3,"currentUrl"],[1,"col-12","col-md-3"]],template:function(e,t){1&e&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Lb(2,"hero-menu",2),i.Pb(),i.Qb(3,"div",3),i.Lb(4,"app-hero-search"),i.Pb(),i.Qb(5,"div",1),i.Lb(6,"hero-list"),i.Pb(),i.Qb(7,"div",3),i.Lb(8,"hero-messages"),i.Pb(),i.Pb()),2&e&&(i.zb(2),i.fc("currentUrl",t.currentUrl))},directives:[l,k,_,M],styles:[""]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({imports:[[o.f.forChild(j)],o.f]}),e})(),X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({imports:[[n.c,B,U.d]]}),e})()}}]);